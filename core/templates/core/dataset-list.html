{% extends 'base.html' %}
{% block title %}Lista de datasets - Brasil.IO{% endblock %}

{% block content %}
  <section class="section">
    <div class="my-xl-4 overflow-hidden">
      <div class="row align-items-center gx-5">
        <div class="col-12 col-lg-8">
          <h2 class="fw-bolder">Datasets</h2>
          <p class="lead fw-normal text-muted col-md-8">
            Veja alguns dos nossos datasets. Na lista de links selecione a base de dados que deseja
            acessar.
          </p>
        </div>
        <div class="col-12 col-lg-4">
          <form action="{% url 'core:dataset-list' %}" method='get'>
            <div class="input-group input-group-lg">
              <input 
                type="text"
                name="search" 
                class="form-control" 
                placeholder="Pesquisar datasets" 
                aria-label="Pesquisar datasets"
                aria-describedby="Campo de pesquisa de datasets"
              >
              <button type="submit" class="input-group-text" title="Clique para executar pesquisa">
                <i class="bi bi-search"></i>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <section 
    class="cards-section-bg border-top border-bottom border-primary py-4 d-flex justify-content-center"
  >
    <div class="container">
      <div class="row g-4 py-2">
        {% for dataset in datasets %}
          <div class="dataset-cards-list">
            {% with name=dataset.name icon=dataset.icon short_description=dataset.short_description slug=dataset.slug tables=dataset.tables %}
              {% include 'core/includes/dataset-card.html' %}
            {% endwith %}
          </div>
        {% endfor %}
        {% with name='Sugira um dataset :)' icon='rate_review' short_description='Quais outros dados precisam ser libertados?' slug='dataset-suggestion' %}
          <div class="dataset-cards-list">
            {% include 'core/includes/dataset-card.html' %}
          </div>
        {% endwith %}
      </div>
    </div>
  </section>
{% endblock %}
